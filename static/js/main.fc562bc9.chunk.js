(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(61)},33:function(e,t,a){},35:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(25),l=a.n(r),s=(a(33),a(34),a(8)),o=a(2),c=a(6),u=a(4),h=a(3),d=a(1),m=a(5),_=(a(35),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleAddOption=a.handleAddOption.bind(Object(d.a)(a)),a.state={error:void 0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleAddOption",value:function(e){e.preventDefault();var t=e.target.elements.option.value.trim(),a=this.props.handleAddOption(t);this.setState(function(){return{error:a}}),a||(e.target.elements.option.value="")}},{key:"render",value:function(){return i.a.createElement("div",null,this.state.error&&i.a.createElement("p",{className:"add-option-error"},this.state.error),i.a.createElement("form",{className:"add-option",onSubmit:this.handleAddOption},i.a.createElement("input",{className:"add-option__input",type:"text",name:"option"}),i.a.createElement("button",{className:"button"},"\u8ffd\u52a0\u3059\u308b")))}}]),t}(i.a.Component)),p=a(14),b=a.n(p),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleToggle=a.handleToggle.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.onClick=a.onClick.bind(Object(d.a)(a)),a.handleBGM=a.handleBGM.bind(Object(d.a)(a)),a.state={toggle:!0,checked:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){this.handleToggle(),this.handleBGM(),this.handleChange(e)}},{key:"handleToggle",value:function(){this.setState(function(e){return{toggle:!e.toggle}})}},{key:"handleBGM",value:function(){this.props.handleBGM()}},{key:"handleChange",value:function(e){this.setState({checked:e})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"switch-wrapper"},i.a.createElement("label",null,i.a.createElement("span",{className:"switch-sentence"},"BGM\u3092\u6709\u52b9\u5316"),i.a.createElement(b.a,{onChange:this.onClick,checked:this.state.checked}))))}}]),t}(i.a.Component),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={valid:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"numberOfPlayers",value:function(){return this.props.players.length}},{key:"numberOfRoles",value:function(){for(var e=0,t=0,a=Object.values(this.props.n_each_role);t<a.length;t++){e+=a[t]}return e}},{key:"render",value:function(){var e=this.numberOfPlayers()-this.numberOfRoles();return i.a.createElement("div",null,i.a.createElement("div",{className:"widget"},e>0&&i.a.createElement("div",{className:"widget__message"},"\u30d7\u30ec\u30a4\u30e4\u30fc\u306f\u5168\u90e8\u3067",this.numberOfPlayers(),"\u4eba\u3002 \u5f79\u8077\u3092\u5f8c",this.numberOfPlayers()-this.numberOfRoles(),"\u3064\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002"),e<0&&i.a.createElement("div",{className:"widget__message"},"\u30d7\u30ec\u30a4\u30e4\u30fc\u306f\u5168\u90e8\u3067",this.numberOfPlayers(),"\u4eba\u3002 \u5f79\u8077\u3092\u5f8c",this.numberOfRoles()-this.numberOfPlayers(),"\u3064\u6e1b\u3089\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),0===this.numberOfPlayers()&&i.a.createElement("div",{className:"widget__message"},"\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u767b\u9332\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),0===e&&this.numberOfPlayers()>0&&i.a.createElement("div",{className:"widget__message"},"\u30d7\u30ec\u30a4\u30e4\u30fc\u306f\u5168\u90e8\u3067",this.numberOfPlayers(),"\u4eba\u3002 \u30b2\u30fc\u30e0\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002")),i.a.createElement("button",{disabled:this.numberOfPlayers()-this.numberOfRoles()!==0,className:"big-button",onClick:this.props.determineRoles},"\u958b\u59cb\u3059\u308b!"))}}]),t}(i.a.Component),v=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleFirstClick=a.handleFirstClick.bind(Object(d.a)(a)),a.handleSecondClick=a.handleSecondClick.bind(Object(d.a)(a)),a.state={player:a.props.players_with_roles[e.current_player_id],name:a.props.players_with_roles[e.current_player_id].name,second_button:!0,third_button:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleFirstClick",value:function(){this.setState({second_button:!1})}},{key:"handleSecondClick",value:function(){this.setState({third_button:!1})}},{key:"render",value:function(){return this.state.player.alive?i.a.createElement("div",null,i.a.createElement("div",{className:"widget widget__confirm"},i.a.createElement("p",{className:"widget widget__message"},"\u30d7\u30ec\u30a4\u30e4\u30fc\u3092\u78ba\u8a8d\u3057\u307e\u3059\uff61"),i.a.createElement("p",{className:"widget widget__confirm-message"},this.state.name,"\u3055\u3093\u306e\u756a\u3067\u3059\uff61 \u672c\u5f53\u306b\uff62",this.state.name,"\uff63\u3055\u3093\u3067\u3059\u304b?")),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-list-confirm",onClick:this.handleFirstClick},"\u306f\u3044, \u79c1\u306f",this.state.name,"\u3067\u3059\uff61"),i.a.createElement("button",{className:"button-list-confirm",disabled:this.state.second_button,onClick:this.handleSecondClick},"\u306f\u3044, \u79c1\u306f",this.state.name,"\u3067\u3059\uff61"),i.a.createElement("button",{className:"button-list-confirm",disabled:this.state.third_button,onClick:this.props.nightPhase},"\u306f\u3044, \u79c1\u306f",this.state.name,"\u3067\u3059\uff61"))):i.a.createElement("div",null,this.props.nightPhase())}}]),t}(i.a.Component),y=function(e){var t=e.to_be_confirmed[0];return e.hide_options?i.a.createElement("div",null):i.a.createElement("div",{className:"widget widget__confirm"},i.a.createElement("div",null,i.a.createElement("p",{className:"widget widget__confirm-message"},t[2].name,"\u3055\u3093\u3067\u3044\u3044\u3067\u3059\u304b?"),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-list",onClick:function(a){return e.nightActionRecord(t[0],t[1],t[2],t[3])}},"OK\u3067\u3059\uff61"),i.a.createElement("button",{className:"button-list",onClick:e.nightPhase},"\u8003\u3048\u76f4\u3059\uff61"))))},O=function(e){var t=e.players_with_roles.filter(function(e){return e.alive}),a=t[Math.floor(Math.random()*t.length)],n=i.a.createElement("div",null,"random"===e.to_be_confirmed?i.a.createElement("div",null,"\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3093\u3067\u3044\u3044\u3067\u3059\u304b?"):i.a.createElement("div",null,void 0===e.to_be_confirmed?i.a.createElement("div",null,"\u8ffd\u653e\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u307e\u3059\u304b?"):i.a.createElement("div",null,e.to_be_confirmed.name,"\u3055\u3093\u3067\u3044\u3044\u3067\u3059\u304b?"))),r="victim";return r="random"===e.to_be_confirmed?a:e.to_be_confirmed,e.hide_options?i.a.createElement("div",null):i.a.createElement("div",{className:"widget widget__confirm"},i.a.createElement("div",{className:"widget widget__confirm-message"},n),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-list",onClick:function(t){return e.exile(r)}},"OK\u3067\u3059\uff61"),i.a.createElement("button",{className:"button-list",onClick:e.morningPhase},"\u8003\u3048\u76f4\u3059\uff61")))},w=function(e){return i.a.createElement("div",{className:"widget"},e.players_with_roles.map(function(t){return t.winning_side===e.winning_side?i.a.createElement("p",{className:"widget__win-message",key:t.name},"\u52dd\u3061! ",t.name," (",t.role_jp,")"):i.a.createElement("p",{className:"widget__message",key:t.name+"lose"},"\u8ca0\u3051\u3002",t.name," (",t.role_jp,")")}))},E=a(7),k=a.n(E),j=function(e){var t=e.handleWinningSide(),a=i.a.createElement(w,{winning_side:t,players_with_roles:e.players_with_roles});return 1===t?i.a.createElement("div",{className:"widget"},e.bgm&&i.a.createElement(k.a,{url:"sounds/fate2.mp3",autoLoad:!0,volume:30,playStatus:k.a.status.PLAYING}),i.a.createElement("h1",{className:"widget widget__important-message"},"\u4eba\u72fc\u306e\u52dd\u5229!"),a,i.a.createElement("button",{className:"button",onClick:e.restart},"\u3082\u30461\u30b2\u30fc\u30e0\u3059\u308b")):0===t?i.a.createElement("div",{className:"widget"},e.bgm&&i.a.createElement(k.a,{url:"sounds/trumpet1.mp3",autoLoad:!0,volume:30,playStatus:k.a.status.PLAYING}),i.a.createElement("h1",{className:"widget widget__important-message"},"\u6751\u4eba\u306e\u52dd\u5229!"),a,i.a.createElement("button",{className:"button-list",onClick:e.restart},"\u3082\u30461\u30b2\u30fc\u30e0\u3059\u308b")):void 0},N=function(e){return i.a.createElement("div",{className:"header"},e.bgm&&i.a.createElement(k.a,{url:"sounds/honobono-wonderland.mp3",playStatus:k.a.status.PLAYING,loop:!0,volume:30}),i.a.createElement("div",{className:"container"},i.a.createElement("h1",{className:"header__title"},e.title),e.subtitle&&i.a.createElement("h2",{className:"header__subtitle"},e.subtitle)))};N.defaultProps={title:"\u4eba\u72fc\u30b2\u30fc\u30e0"};var S=N,P=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"widget"},e.players_with_roles.filter(function(e){return"tolkative"===e.role&&!1===e.alive}).map(function(e){return i.a.createElement("div",{className:"widget__message",key:e.name+"talkative"},e.name,"\u3055\u3093\u3082\u8b70\u8ad6\u306b\u53c2\u52a0\u3067\u304d\u307e\u3059\u3002")})),i.a.createElement("div",{className:"button-wrapper"},e.players_with_roles.map(function(t){return t.alive?i.a.createElement("button",{className:"button-list",key:t.name,onClick:function(a){e.choiceConfirmAtExilePhase(t)}},t.name,"\u3055\u3093\u3092\u8ffd\u653e"):i.a.createElement("div",{key:t.name+"ListToBeExiled"})})),i.a.createElement("div",{className:"button-wrapper-dead"},e.players_with_roles.map(function(e){return e.alive?i.a.createElement("div",{key:e.name}):i.a.createElement("button",{disabled:!0,key:e.name,className:"button-list-dead"},i.a.createElement("p",null,e.name,"\u3055\u3093"),i.a.createElement("span",null,"\u6b7b\u4ea1"))})),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-no-exile",key:"no_exile",onClick:function(t){e.choiceConfirmAtExilePhase()}},"\u8ab0\u3082\u8ffd\u653e\u3057\u306a\u3044\u3002")),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-no-exile",key:"no_exile",onClick:function(t){e.choiceConfirmAtExilePhase("random")}},"\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3076\u3002")))},C=function(e){return i.a.createElement("div",{className:"option"},i.a.createElement("p",{className:"option__text"},e.count,". ",e.optionText),i.a.createElement("button",{className:"button button--link",onClick:function(t){e.handleDeleteOption(e.optionText)}},"\u524a\u9664"))},x=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"widget-header"},i.a.createElement("h3",{className:"widget-header__title"},"\u30d7\u30ec\u30a4\u30e4\u30fc\u306e\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"),i.a.createElement("button",{className:"button button--link",onClick:e.handleDeleteOptions},"Remove All")),0===e.players.length&&i.a.createElement("p",{className:"widget__message"},"\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\uff61"),e.players.map(function(t,a){return i.a.createElement(C,{key:t,optionText:t,count:a+1,handleDeleteOption:e.handleDeleteOption})}))},R=function(e){var t=e.players_with_roles[e.current_player_id],a=i.a.createElement("div",{className:"button-wrapper-next-player"},i.a.createElement("button",{className:"button-single",key:"ShowListOfPlayersNextPlayer",onClick:function(a){e.nextPlayer(e.current_player_id,t.role,Object.keys(e.players_with_roles).length)}},"\u6b21\u306e\u30d7\u30ec\u30fc\u30e4\u30fc\u3078"));if("see"===t.night_action&&e.hide_options&&e.turn>1)try{return i.a.createElement("div",{className:"widget wigget__message"},i.a.createElement("div",{className:"widget widget__message"},e.outcome_of_seer[0].name,"\u3055\u3093\u306f",0===e.outcome_of_seer[0].saw?"\u6751\u4eba":"\u4eba\u72fc","\u3067\u3059\uff61",a))}catch(n){return i.a.createElement("div",null)}else if("see_role"===t.night_action&&e.hide_options&&e.turn>1)try{return i.a.createElement("div",{className:"widget wigget__message"},i.a.createElement("div",{className:"widget widget__message"},e.outcome_of_seer[0].name,"\u3055\u3093\u306f",e.outcome_of_seer[0].role_jp,"\u3067\u3059\uff61",a))}catch(n){return i.a.createElement("div",null)}else{if(!("young_see"===t.night_action&&e.hide_options&&e.turn>1))return e.hide_options?i.a.createElement("div",null,a):i.a.createElement("div",null);try{return i.a.createElement("div",{className:"widget wigget__message"},i.a.createElement("div",{className:"widget widget__message"},e.outcome_of_seer[0].name,"\u3055\u3093\u306f",Math.random()>.5?"\u6751\u4eba":"\u4eba\u72fc","\u3067\u3059\uff61",a))}catch(n){return i.a.createElement("div",null)}}},z=a(12),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleToggle=a.handleToggle.bind(Object(d.a)(a)),a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.handleLevelChange=a.handleLevelChange.bind(Object(d.a)(a)),a.onClick=a.onClick.bind(Object(d.a)(a)),a.recordSelectedButton=a.recordSelectedButton.bind(Object(d.a)(a)),a.toggleRandomSwitchRoles=a.toggleRandomSwitchRoles.bind(Object(d.a)(a)),a.state={toggle:!0,checked:!1,level:0,checked_0:!0,checked_1:!1,checked_2:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"onClick",value:function(e){this.handleToggle(),this.toggleRandomSwitchRoles(),this.handleChange(e)}},{key:"handleToggle",value:function(){this.setState(function(e){return{toggle:!e.toggle}})}},{key:"toggleRandomSwitchRoles",value:function(){this.props.toggleRandomSwitchRoles()}},{key:"handleChange",value:function(e){this.setState({checked:e})}},{key:"handleLevelChange",value:function(e){e=Number(e),this.props.handle_random_level(e),this.recordSelectedButton(e)}},{key:"recordSelectedButton",value:function(e){0===e?(this.setState({checked_0:!0}),this.setState({checked_1:!1}),this.setState({checked_2:!1})):1===e?(this.setState({checked_0:!1}),this.setState({checked_1:!0}),this.setState({checked_2:!1})):(this.setState({checked_0:!1}),this.setState({checked_1:!1}),this.setState({checked_2:!0}))}},{key:"classInstances",value:function(e){return e.map(function(e){return new e("anonymous")})}},{key:"render",value:function(){var e=this.classInstances(this.props.roleClasses);return i.a.createElement("div",null,i.a.createElement("div",{className:"switch-wrapper"},i.a.createElement("label",null,i.a.createElement("span",{className:"switch-sentence"},"\u30e9\u30f3\u30c0\u30e0\u5316\u3059\u308b"),i.a.createElement(b.a,{onChange:this.onClick,checked:this.state.checked})),this.state.checked&&i.a.createElement("div",null,i.a.createElement(z.RadioGroup,{onChange:this.handleLevelChange,horizontal:!0},i.a.createElement(z.RadioButton,{value:"0",checked:this.state.checked_0},"\u5c0f"),i.a.createElement(z.RadioButton,{value:"1",checked:this.state.checked_1},"\u4e2d"),i.a.createElement(z.RadioButton,{value:"2",checked:this.state.checked_2},"\u5927")),i.a.createElement("div",{className:"widget"},i.a.createElement("div",{className:"widget__message"},"\u9078\u3093\u3060\u5f79\u8077\u3092\u6b21\u306e\u3069\u308c\u304b\u306b\u30e9\u30f3\u30c0\u30e0\u3067\u5909\u66f4\u3057\u307e\u3059\u3002"),i.a.createElement("div",{className:"widget__in_rando-wrapper"},i.a.createElement("span",{className:"widget__in_random bd"},"\u5c0f\u306e\u5834\u5408:"),i.a.createElement("span",{className:"widget__description_in_random"},e.map(function(e){return i.a.createElement("span",{key:e.role},0===e.random_level?"\u30fb"+e.role_jp+" ":"")}))),i.a.createElement("div",{className:"widget__in_rando-wrapper"},i.a.createElement("span",{className:"widget__in_random bd"},"\u4e2d\u306f\u3055\u3089\u306b\u6b21\u304c\u52a0\u308f\u308b:"),i.a.createElement("span",{className:"widget__description_in_random"},e.map(function(e){return i.a.createElement("span",{key:e.role},1===e.random_level?"\u30fb"+e.role_jp+" ":"")}))),i.a.createElement("div",{className:"widget__in_rando-wrapper"},i.a.createElement("span",{className:"widget__in_random bd"},"\u5927\u306f\u3055\u3089\u306b\u6b21\u304c\u52a0\u308f\u308b:"),i.a.createElement("span",{className:"widget__description_in_random"},e.map(function(e){return i.a.createElement("span",{key:e.role},e.random_level>1?"\u30fb"+e.role_jp+" ":"")})))))))}}]),t}(i.a.Component),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).afterWillPhase=a.afterWillPhase.bind(Object(d.a)(a)),a.continueGamePhase=a.continueGamePhase.bind(Object(d.a)(a)),a.state={phase:"will"},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"afterWillPhase",value:function(){this.props.handlePizzaOrder(),this.setState({phase:"after_will"})}},{key:"continueGamePhase",value:function(){this.setState({phase:"continue_game"})}},{key:"render",value:function(){return"will"===this.state.phase?i.a.createElement("div",{className:"widget"},0!==this.props.to_be_exiled.length&&i.a.createElement("p",{className:"widget widget__message"},this.props.to_be_exiled[0],"\u3055\u3093, \u6700\u5f8c\u306b\u907a\u8a00\u3092\u3069\u3046\u305e\uff61"),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-single",onClick:this.afterWillPhase},"\u6b21\u3078"))):"after_will"===this.state.phase?i.a.createElement("div",null,i.a.createElement("div",{className:"widget"},0!==this.props.to_be_exiled.length?i.a.createElement("div",null,this.props.bgm&&i.a.createElement(k.a,{url:"sounds/katana-gesture1.mp3",autoLoad:!0,volume:30,playStatus:k.a.status.PLAYING}),i.a.createElement("div",{className:"widget__message"},"\u4eba\u72fc\u3060\u3068\u7591\u308f\u308c\u305f",this.props.to_be_exiled[0],"\u3055\u3093\u306f\u8ffd\u653e\u3055\u308c\u307e\u3057\u305f\u3002")):i.a.createElement("div",null,i.a.createElement("div",{className:"widget__message"},"\u4eca\u671d\u306f\u8ab0\u3082\u8ffd\u653e\u3055\u308c\u307e\u305b\u3093\u3067\u3057\u305f\u3002"),this.props.bgm&&i.a.createElement(k.a,{url:"sounds/kira1.mp3",autoLoad:!0,volume:30,playStatus:k.a.status.PLAYING}))),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-single",onClick:this.props.handleWinningSide()<0?this.continueGamePhase:this.props.gameResultPhase},"\u6b21\u3078"))):"continue_game"===this.state.phase?i.a.createElement("div",null,this.props.bgm&&i.a.createElement(k.a,{url:"sounds/clock-tower-bell1.mp3",autoLoad:!0,volume:30,playStatus:k.a.status.PLAYING}),i.a.createElement("div",{className:"widget"},i.a.createElement("div",{className:"widget__message"},"\u591c\u304c\u6765\u307e\u3057\u305f\u3002\u3002\u3002")),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-single",onClick:this.props.nightConfirmPhase},"\u6b21\u3078"))):i.a.createElement("div",null)}}]),t}(i.a.Component),B=function(e){var t=e.handleKilledAtNight(e.turn);e.removeProtection();var a=e.handleSamuraiKilledAtNight(e.turn);-1!==a&&(a=Object(s.a)(new Set(a)));var n=e.handleWinningSide(),r=e.mostSuspiciousPlayer(t,a),l=e.isBakerAlive(),o="";if(-1===t&&-1===a)o="\u3044\u307e\u305b\u3093";else if(-1===t){for(var c=a.length-1;c>0;c--){var u=Math.floor(Math.random()*(c+1)),h=[a[u],a[c]];a[c]=h[0],a[u]=h[1]}var d=!0,m=!1,_=void 0;try{for(var p,b=a[Symbol.iterator]();!(d=(p=b.next()).done);d=!0)o+=" "+p.value+"\u3055\u3093"}catch(S){m=!0,_=S}finally{try{d||null==b.return||b.return()}finally{if(m)throw _}}}else if(-1===a)o=t+"\u3055\u3093";else{a.includes(t)||a.push(t);for(var g=a.length-1;g>0;g--){var f=Math.floor(Math.random()*(g+1)),v=[a[f],a[g]];a[g]=v[0],a[f]=v[1]}var y,O=!0,w=!1,E=void 0;try{for(var j,N=a[Symbol.iterator]();!(O=(j=N.next()).done);O=!0)y=j.value,t!==a&&(o+=" "+y+"\u3055\u3093")}catch(S){w=!0,E=S}finally{try{O||null==N.return||N.return()}finally{if(w)throw E}}}return i.a.createElement("div",{className:"widget"},e.bgm&&i.a.createElement(k.a,{url:"sounds/spring-mountain1.mp3",autoLoad:!0,volume:30,playStatus:k.a.status.PLAYING}),i.a.createElement("div",{className:"widget widget__message"},i.a.createElement("p",{className:"option option__text"},"\u671d\u306b\u306a\u308a\u307e\u3057\u305f\uff61"),l&&i.a.createElement("p",{className:"option option__text"},"\u30d1\u30f3\u306e\u9999\u3070\u3057\u3044\u9999\u308a\u304c\u6f02\u3063\u3066\u3044\u307e\u3059\u3002"),i.a.createElement("p",{className:"option option__text"},1===e.turn?"":"\u6628\u65e5\u306e\u72a0\u7272\u8005\u306f"+o+"\u3067\u3057\u305f\u3002"),i.a.createElement("p",{className:"option option__text"},"\u4eca\u3082\u3063\u3068\u3082\u7591\u308f\u308c\u3066\u3044\u308b\u4eba\u306f"),r.map(function(e){return i.a.createElement("p",{className:"option option__text bf",key:e},e,"\u3055\u3093")}),i.a.createElement("p",{className:"option option__text"},r.length?"\u3067\u3059\uff61":"\u3044\u307e\u305b\u3093\u3067\u3057\u305f\uff61")),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-single",onClick:n<0?e.morningPhase:e.gameResultPhase},"\u6b21\u3078")))},L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleToggle=a.handleToggle.bind(Object(d.a)(a)),a.state={toggle:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleToggle",value:function(){this.setState(function(e){return{toggle:!e.toggle}})}},{key:"classInstances",value:function(e){return e.map(function(e){return new e("anonymous")})}},{key:"render",value:function(){var e=this.classInstances(this.props.roleClasses);return i.a.createElement("div",null,i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-single",onClick:this.handleToggle},this.state.toggle?i.a.createElement("p",null,"\u9589\u3058\u308b"):i.a.createElement("p",null,"\u5404\u5f79\u8077\u306e\u30eb\u30fc\u30eb\u3092\u898b\u308b"))),i.a.createElement("div",{className:"widget"},this.state.toggle&&e.map(function(e){return i.a.createElement("div",{className:"widget__message widget__role-description",key:e.role},i.a.createElement("div",{className:"widget__role-title"},e.role_jp),e.description)}),this.state.toggle&&i.a.createElement("button",{className:"button",onClick:this.handleToggle},"\u9589\u3058\u308b")))}}]),t}(i.a.Component),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleAddOne=a.handleAddOne.bind(Object(d.a)(a)),a.handleLocalMemory=a.handleLocalMemory.bind(Object(d.a)(a)),a.handleMinusOne=a.handleMinusOne.bind(Object(d.a)(a)),a.handleReset=a.handleReset.bind(Object(d.a)(a)),a.state={count:0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem(this.props.role+"-counter"),t=parseInt(e,10);isNaN(t)||(this.setState(function(){return{count:t}}),this.handleLocalMemory(t))}},{key:"componentDidUpdate",value:function(e,t){t.count!==this.state.count&&localStorage.setItem(this.props.role+"-counter",this.state.count)}},{key:"handleLocalMemory",value:function(e){this.props.updateNumberOfRoles(e,this.props.role)}},{key:"handleAddOne",value:function(){this.props.updateNumberOfRoles(1,this.props.role),this.setState(function(e){return{count:e.count+1}})}},{key:"handleMinusOne",value:function(){var e=this;this.setState(function(t){if(0!==t.count)return e.props.updateNumberOfRoles(-1,e.props.role),{count:t.count-1}})}},{key:"handleReset",value:function(){this.props.updateNumberOfRoles(0,this.props.role),this.setState(function(){return{count:0}})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"button-wrapper button-wrapper__role"},i.a.createElement("div",{className:"option-role option__role"},this.props.role_jp,": ",this.state.count>0?i.a.createElement("div",{className:"counter"},this.state.count):this.state.count),i.a.createElement("button",{className:"button button--plus-one",onClick:this.handleAddOne},"+1"),i.a.createElement("button",{className:"button button--plus-one",onClick:this.handleMinusOne},"-1")))}}]),t}(i.a.Component),W=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"classInstances",value:function(e){return e.map(function(e){return new e("anonymous")})}},{key:"render",value:function(){var e=this,t=this.classInstances(this.props.roleClasses);return i.a.createElement("div",null,i.a.createElement("div",{className:"widget"},t.map(function(t){return i.a.createElement(T,{key:t.role,role:t.role,role_jp:t.role_jp,updateNumberOfRoles:e.props.updateNumberOfRoles})})))}}]),t}(i.a.Component),G=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shuffle",value:function(e){for(var t=Object(s.a)(e),a=t.length-1;a>0;a--){var n=Math.floor(Math.random()*(a+1)),i=[t[n],t[a]];t[a]=i[0],t[n]=i[1]}return t}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"button-wrapper"},this.shuffle(this.props.players_with_roles).map(function(t){return t===e.props.current_player||!t.alive||["werewolf","werewolf_god","weak_werewolf"].includes(e.props.current_player.role)&&!t.killable?i.a.createElement("div",{key:t.name+"else"}):i.a.createElement("button",{className:"button-list",key:t.name,onClick:function(){return e.props.choiceConfirmPhase([e.props.current_player_id,e.props.current_player,t,Object.keys(e.props.players_with_roles).length])}},i.a.createElement("p",null,t.name,"\u3055\u3093"),i.a.createElement("span",null,"\u3092\u9078\u3076\uff61"))})),i.a.createElement("div",{className:"button-wrapper-dead"},this.props.players_with_roles.map(function(e){return e.alive?i.a.createElement("div",{key:e.name}):i.a.createElement("button",{key:e.name,disabled:!0,className:"button-list-dead"},i.a.createElement("p",null,e.name,"\u3055\u3093"),i.a.createElement("span",null,"\u6b7b\u4ea1"))})))}}]),t}(i.a.Component),D=function(e){var t=["werewolf","werewolf_god","weak_werewolf"];return t.includes(e.current_player.role)?i.a.createElement("div",{className:"widget"},e.players_with_roles.map(function(a){return a!==e.current_player&&t.includes(a.role)?i.a.createElement("div",{key:a.name},i.a.createElement("p",{className:"widget widget__important-message",key:a.name},a.name,"\u3055\u3093\u3082\u4eba\u72fc\u3067\u3059\uff61")):i.a.createElement("div",{key:a.name+"else"})}),0!==e.night_action_to_be_killed.length&&i.a.createElement("div",{className:"widget__message"},e.night_action_to_be_killed[0].name,"\u3055\u3093\u3092\u8972\u6483\u3059\u308b\u4e88\u5b9a\u3067\u3059\u3002\u9055\u3046\u4eba\u3092\u8972\u3046\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002")):"werewolf_believer"===e.current_player.role?i.a.createElement("div",{className:"widget"},e.players_with_roles.map(function(a){return a!==e.current_player&&t.includes(a.role)?i.a.createElement("p",{className:"widget widget__important-message",key:a.name},a.name,"\u3055\u3093\u306f\u4eba\u72fc\u3067\u3059\uff61"):i.a.createElement("div",{key:a.name+"else"})})):i.a.createElement("div",{key:"DisplayWerewolves.js-1"})},I=function(e){return"perceive"===e.current_player.night_action&&e.to_be_exiled.length>0?i.a.createElement("div",{className:"widget widget__message"},"\u4eca\u671d\u8ffd\u653e\u3055\u308c\u305f",e.to_be_exiled[0],"\u3055\u3093\u306f",e.to_be_exiled[1],"\u3067\u3057\u305f\u3002"):i.a.createElement("span",null)},K=function(e){return i.a.createElement("div",{className:"widget"},e.pizza_delivery.filter(function(t){return t[1]===e.current_player}).map(function(e){return i.a.createElement("div",{key:e[0].name,className:"widget__message_action_result"},e[0].name,"\u3055\u3093\u304b\u3089\u30d4\u30b6\u304c\u5c4a\u304d\u307e\u3057\u305f\u3002")}))},Y=function(e){var t=i.a.createElement("div",null,i.a.createElement("div",{className:"widget__message"},"\u65ac\u6bba\u3059\u308b\u4eba\u3092\u9078\u3076\u304b, \u3053\u306e\u30bf\u30fc\u30f3\u306f\u4f55\u3082\u3057\u306a\u3044\u304b\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002"));return i.a.createElement("div",{className:"widget"},"samurai_kill"===e.current_player.night_action&&e.current_player.can_skip_action&&t)},U=a(26),F=function(e){var t=e.players_with_roles[e.current_player_id],a=t.name,n=i.a.createElement("div",null,i.a.createElement("p",{className:"add-option-action"},"\u4eba\u72fc\u3060\u3068\u601d\u3046\u4eba\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002"),i.a.createElement("p",null,"(\u6700\u521d\u306e\u591c\u306f\u3069\u306e\u5f79\u306e\u4eba\u3082\u7591\u3046\u3053\u3068\u306e\u307f\u3092\u3057\u307e\u3059\u3002)")),r=i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-single",onClick:function(){return e.nextPlayer(e.current_player_id,t.role,Object.keys(e.players_with_roles).length)}},"samurai_kill"===t.night_action?"\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u6b21\u306e\u30d7\u30ec\u30fc\u30e4\u30fc\u3078":"\u6b21\u306e\u30d7\u30ec\u30fc\u30e4\u30fc\u3078")),l=i.a.createElement("div",null,i.a.createElement("div",{className:"widget widget__message"},i.a.createElement("div",{className:"msize"},a,"\u3055\u3093\u306f",i.a.createElement("div",{className:"widget__important-message bd lsize"},t.role_jp_disguise?t.role_jp_disguise:t.role_jp),"\u3067\u3059\uff61"),1===e.turn&&"impatient_pizzeria"!==t.role?n:i.a.createElement("p",{className:"add-option-action"},t.action_sentence)),e.turn>1?i.a.createElement(I,{to_be_exiled:e.to_be_exiled,turn:e.turn,current_player:t}):i.a.createElement("span",null),e.turn>1?i.a.createElement(K,{pizza_order:e.pizza_order,pizza_delivery:e.pizza_delivery,current_player:t}):i.a.createElement("span",null),e.turn>1?i.a.createElement(Y,{current_player:t}):i.a.createElement("span",null),"samurai_kill"===t.night_action&&t.can_skip_action&&e.turn>1&&r,i.a.createElement(D,{current_player:t,players_with_roles:e.players_with_roles,night_action_to_be_killed:e.night_action_to_be_killed}),1===e.turn||"hide"!==t.night_action?i.a.createElement(G,{current_player:t,current_player_id:e.current_player_id,players_with_roles:e.players_with_roles,nightActionRecord:e.nightActionRecord,nextPlayer:e.nextPlayer,choiceConfirmPhase:e.choiceConfirmPhase}):r,i.a.createElement(L,{roleClasses:e.roleClasses}),i.a.createElement(U.CircleArrow,{ShowAtPosition:200})),s=i.a.createElement("div",null,i.a.createElement("p",{className:"widget widget__message"},a,"\u3055\u3093\u306f\u6b7b\u3093\u3067\u3044\u307e\u3059\uff61"),i.a.createElement("div",{className:"button-wrapper"},i.a.createElement("button",{className:"button-single",onClick:function(){return e.nextPlayer(e.current_player_id,t.role,Object.keys(e.players_with_roles).length)}},"\u6b21\u306e\u30d7\u30ec\u30fc\u30e4\u30fc\u3078")));return i.a.createElement("div",null,t.alive?l:s)},J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={remaining:a.props.setTimerSeconds()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"countDown",value:function(){this.state.remaining>0&&this.setState(function(e){return{remaining:e.remaining-1}})}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval(function(){return e.countDown()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.state.remaining>0?i.a.createElement("div",{className:"widget"},i.a.createElement("h2",{className:"widget__message"},"\u671d\u306e\u8ffd\u653e\u4f1a\u8b70"),i.a.createElement("p",{className:"widget__message"},"\u6b8b\u308a",i.a.createElement("span",{className:"timer"},Math.floor(this.state.remaining/60),"\u5206",this.state.remaining%60,"\u79d2"),"\u4ee5\u5185\u306b\u8ffd\u653e\u3059\u308b\u4eba\u3092\u6c7a\u3081\u3066\u304f\u3060\u3055\u3044\u3002")):i.a.createElement("div",null,this.props.bgm&&i.a.createElement(k.a,{url:"sounds/fate1.mp3",autoLoad:!0,volume:50,playStatus:k.a.status.PLAYING}),i.a.createElement("div",{className:"widget"},i.a.createElement("p",{className:"widget__message"},"\u6642\u9593\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u6295\u7968\u3067\u8ffd\u653e\u3059\u308b\u4eba\u3092\u6c7a\u3081\u3066\u304f\u3060\u3055\u3044\u3002")))}}]),t}(i.a.Component),V=function e(t){Object(o.a)(this,e),this.name=t,this.alive=!0,this.protected=!1},$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="villager",a.role_jp="\u6751\u4eba",a.side=0,a.winning_side=0,a.saw=0,a.perceived="\u6751\u4eba",a.killable=!0,a.action_sentence="\u3082\u3063\u3068\u3082\u7591\u308f\u3057\u3044\u4eba\u3092\u4e00\u4eba\u9078\u3093\u3067\u304f\u3060\u3055\u3044\uff61",a.night_action="suspect",a.random_level=0,a.description="\u4eba\u306b\u5316\u3051\u305f\u72fc\u304c\u66ae\u3089\u3059\u6751\u306b\u4f4f\u3080\u3002\u591c\u306b\u306f\u4eba\u72fc\u3060\u3068\u7591\u3046\u4eba\u306b\u3053\u3063\u305d\u308a\u6295\u7968\u3059\u308b\u3002",a}return Object(m.a)(t,e),t}(V),q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="werewolf",a.role_jp="\u4eba\u72fc",a.side=1,a.winning_side=1,a.saw=1,a.perceived="\u4eba\u72fc",a.killable=!1,a.action_sentence="\u4eca\u6669\u8972\u3046\u4eba\u3092\u6c7a\u3081\u3066\u304f\u3060\u3055\u3044\uff61",a.night_action="kill",a.random_level=0,a.description="\u591c\u306b\u6bba\u5bb3\u3059\u308b\u4eba\u3092\u4e00\u4eba\u9078\u3076\u3002 \u6700\u5f8c\u306e\u4eba\u72fc\u306b\u6700\u7d42\u6c7a\u5b9a\u6a29\u304c\u3042\u308b\u3002\u4eba\u72fc\u540c\u58eb\u306f\u8ab0\u304c\u4eba\u72fc\u304b\u308f\u304b\u3063\u3066\u3044\u308b\u3002 \u4eba\u72fc\u540c\u58eb\u306f\u6bba\u3057\u5408\u3048\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}(V),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="seer",a.role_jp="\u5360\u3044\u5e2b",a.action_sentence="\u4eca\u6669\u5360\u3046\u4eba\u3092\u6c7a\u3081\u3066\u304f\u3060\u3055\u3044\uff61",a.night_action="see",a.description="\u6751\u4eba\u5074\u3002 \u6bce\u6669\u8ab0\u304b\u751f\u304d\u3066\u3044\u308b\u4e00\u4eba\u3092\u5360\u3044, \u305d\u306e\u4eba\u304c\u6751\u4eba\u5074\u304b\u4eba\u72fc\u5074\u304b\u3092\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002 \u305f\u3060\u3057\u5f79\u8077\u306f\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}($),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="knight",a.role_jp="\u9a0e\u58eb",a.action_sentence="\u4eca\u6669\u5b88\u308b\u4eba\u3092\u6c7a\u3081\u3066\u304f\u3060\u3055\u3044\uff61",a.night_action="protect",a.description="\u6751\u4eba\u5074\u3002 \u6bce\u6669\u6307\u5b9a\u3057\u305f\u4e00\u4eba\u3092\u4eba\u72fc\u306e\u8972\u6483\u304b\u3089\u5b88\u308b\u3002\u81ea\u5206\u306f\u5b88\u308b\u3053\u3068\u306f\u3067\u304d\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}($),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="traitor",a.role_jp="\u88cf\u5207\u308a\u8005",a.winning_side=1,a.description="\u4eba\u72fc\u5074\u3002 \u3057\u304b\u3057\u5360\u3044\u306e\u7d50\u679c\u3068\u970a\u5a92\u7d50\u679c\u306b\u306f\u6751\u4eba\u5074\u3068\u51fa\u308b\u3002\u591c\u306b\u306f\u6751\u4eba\u3068\u540c\u69d8\u306b\u6295\u7968\u3092\u884c\u3046\u3002\u4eba\u72fc\u306f\u8ab0\u304c\u88cf\u5207\u308a\u8005\u304b\u77e5\u3089\u305a, \u88cf\u5207\u308a\u8005\u3082\u8ab0\u304c\u4eba\u72fc\u304b\u308f\u304b\u3089\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}($),Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="werewolf_believer",a.role_jp="\u72fc\u4fe1\u8005",a.winning_side=1,a.description="\u4eba\u72fc\u5074\u3002\u3057\u304b\u3057\u5360\u3044\u306e\u7d50\u679c\u3068\u970a\u5a92\u7d50\u679c\u306b\u306f\u6751\u4eba\u5074\u3068\u51fa\u308b\u3002\u591c\u306b\u306f\u6751\u4eba\u3068\u540c\u69d8\u306b\u6295\u7968\u3092\u884c\u3046\u3002 \u72fc\u4fe1\u8005\u306f\u8ab0\u304c\u4eba\u72fc\u304b\u77e5\u3063\u3066\u3044\u308b\u3002 \u305f\u3060\u3057\u4eba\u72fc\u306f\u8ab0\u304c\u72fc\u4fe1\u8005\u306a\u306e\u304b\u308f\u304b\u3089\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}($),ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="baker",a.role_jp="\u30d1\u30f3\u5c4b\u3055\u3093",a.description="\u6751\u4eba\u5074\u3002\u30d1\u30f3\u5c4b\u3055\u3093\u304c\u751f\u304d\u3066\u3044\u308b\u3068\u6bce\u671d\u713c\u304d\u305f\u3066\u306e\u30d1\u30f3\u306e\u9999\u308a\u304c\u6f02\u3063\u3066\u304f\u308b\u3002\u591c\u306b\u306f\u6751\u4eba\u540c\u69d8\u306b\u6295\u7968\u3092\u884c\u3046\u3002",a}return Object(m.a)(t,e),t}($),te=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="psychic",a.role_jp="\u970a\u5a92\u5e2b",a.night_action="perceive",a.description="\u6751\u4eba\u5074\u3002 \u6bce\u6669\u305d\u306e\u65e5\u306e\u671d\u306b\u51e6\u5211\u3055\u308c\u305f\u4eba\u304c\u6751\u4eba\u304b\u4eba\u72fc\u304b\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u305f\u3060\u3057\u5f79\u8077\u306f\u308f\u304b\u3089\u306a\u3044\u3002\u305d\u3057\u3066\u6751\u4eba\u540c\u69d8\u306b\u6295\u7968\u3092\u884c\u3046\u3002",a}return Object(m.a)(t,e),t}($),ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="haunted",a.role_jp="\u72fc\u6191\u304d",a.saw=1,a.perceived="\u4eba\u72fc",a.random_level=1,a.description="\u6751\u4eba\u5074\u3002 \u72fc\u306b\u3068\u308a\u3064\u304b\u308c\u305f\u6751\u4eba\u3002 \u5360\u3044\u7d50\u679c\u3068\u970a\u5a92\u7d50\u679c\u306b\u4eba\u72fc\u3068\u51fa\u3066\u3057\u307e\u3046\u3002 \u305d\u3057\u3066\u6751\u4eba\u540c\u69d8\u306b\u6295\u7968\u3092\u884c\u3046\u3002",a}return Object(m.a)(t,e),t}($),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="werewolf_god",a.role_jp="\u795e\u72fc",a.saw=0,a.perceived="\u795e\u72fc",a.random_level=1,a.description="\u4eba\u72fc\u5074\u3002 \u305f\u3060\u3057\u5360\u3044\u7d50\u679c\u306b\u6751\u4eba\u3068\u51fa\u308b\u3002 \u970a\u5a92\u7d50\u679c\u306f\u795e\u72fc\u3068\u306a\u308b\u3002\u591c\u306b\u306f\u901a\u5e38\u306e\u4eba\u72fc\u540c\u69d8\u306b\u6bba\u5bb3\u3059\u308b\u4eba\u3092\u4e00\u4eba\u9078\u3076\u3002\u4eba\u72fc\u3068\u72fc\u4fe1\u8005\u306b\u306f\u4eba\u72fc\u3068\u3057\u3066\u77e5\u3089\u308c\u3066\u3044\u308b\u3002",a}return Object(m.a)(t,e),t}(q),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="sage",a.role_jp="\u8ce2\u8005",a.night_action="see_role",a.random_level=1,a.description="\u6751\u4eba\u5074\u3002\u6bce\u6669\u5f79\u8077\u307e\u3067\u77e5\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u5360\u3044\u3092\u884c\u3046\u3002",a}return Object(m.a)(t,e),t}(H),re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="ninjya",a.role_jp="\u5fcd\u8005",a.night_action="hide",a.protected=!0,a.action_sentence="\u96a0\u308c\u8eab\u306e\u8853!!",a.description="\u6751\u4eba\u5074\u3002 \u96a0\u308c\u8eab\u306e\u8853\u3067\u72fc\u306e\u8972\u6483\u304b\u3089\u9003\u308c\u308b\u3053\u3068\u304c\u3067\u304d\u308b\u3002\u305d\u306e\u4ee3\u308f\u308a\u591c\u306e\u6295\u7968\u306b\u53c2\u52a0\u3067\u304d\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}($),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="weak_werewolf",a.role_jp="\u5f31\u4eba\u72fc",a.night_action="weak_kill",a.description="\u4eba\u72fc\u5074\u3002 \u591c\u306e\u8972\u6483\u306b50%\u306e\u78ba\u7387\u3067\u5931\u6557\u3059\u308b\u4ee5\u5916\u306f\u901a\u5e38\u306e\u4eba\u72fc",a}return Object(m.a)(t,e),t}(q),se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="lone_werewolf",a.role_jp="\u4e00\u5339\u72fc",a.killable=!0,a.random_level=1,a.description="\u4eba\u72fc\u5074\u3002 \u4ed6\u306e\u4eba\u72fc\u3084\u72fc\u4fe1\u8005\u306b\u3082\u6b63\u4f53\u3092\u77e5\u3089\u308c\u3066\u3044\u306a\u3044\u4eba\u72fc\u3002\u307e\u305f\u4ed6\u306e\u4eba\u72fc\u304c\u8ab0\u306a\u306e\u304b\u308f\u304b\u3089\u306a\u3044\u3002\u4ef2\u9593\u306e\u4eba\u72fc\u3092\u6bba\u3059\u53ef\u80fd\u6027\u3068\u6bba\u3055\u308c\u308b\u53ef\u80fd\u6027\u304c\u3042\u308b\u3002",a}return Object(m.a)(t,e),t}(q),oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="pizzeria",a.role_jp="\u30d4\u30b6\u5c4b\u3055\u3093",a.night_action="deliver_pizza",a.action_sentence="\u30d4\u30b6\u3092\u304a\u5c4a\u3051\u3059\u308b\u4eba\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",a.description="\u6751\u4eba\u5074\u3002\u6bce\u6669\u30d4\u30b6\u3092\u5c4a\u3051\u308b\u4eba\u3092\u9078\u3076\u3002\u30d4\u30b6\u306f\u6b21\u306e\u65e5\u306e\u591c\u306b\u5c4a\u304f\u3002\u5c4a\u3051\u305f\u76f8\u624b\u306b\u306f\u30d4\u30b6\u5c4b\u3060\u3068\u30d0\u30ec\u308b\u3002",a}return Object(m.a)(t,e),t}($),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="impatient_pizzeria",a.role_jp="\u305b\u3063\u304b\u3061\u30d4\u30b6\u5c4b\u3055\u3093",a.night_action="fast_deliver_pizza",a.description="\u6751\u4eba\u5074\u3002\u6bce\u6669\u30d4\u30b6\u3092\u5c4a\u3051\u308b\u4eba\u3092\u9078\u3076\u3002\u30d4\u30b6\u306f\u6b21\u306e\u65e5\u306e\u591c\u306b\u5c4a\u304f\u3002\u5c4a\u3051\u305f\u76f8\u624b\u306b\u306f\u30d4\u30b6\u5c4b\u3060\u3068\u30d0\u30ec\u308b\u3002\u305b\u3063\u304b\u3061\u306a\u306e\u3067\u6700\u521d\u306e\u591c\u304b\u3089\u30d4\u30b6\u306e\u9001\u308a\u5148\u3092\u6307\u5b9a\u3059\u308b\u3002",a}return Object(m.a)(t,e),t}(oe),ue=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="werewolf_linguist",a.role_jp="\u72fc\u8a00\u8a9e\u5b66\u8005",a.winning_side=1,a.random_level=1,a.description="\u4eba\u72fc\u5074\u3002 \u3057\u304b\u3057\u5360\u3044\u306e\u7d50\u679c\u3068\u970a\u5a92\u7d50\u679c\u306b\u306f\u6751\u4eba\u5074\u3068\u51fa\u308b\u3002\u591c\u306b\u306f\u6751\u4eba\u3068\u540c\u69d8\u306b\u6295\u7968\u3092\u884c\u3046\u3002\u4eba\u72fc\u306f\u8ab0\u304c\u72fc\u8a00\u8a9e\u5b66\u8005\u304b\u77e5\u3089\u305a, \u72fc\u8a00\u8a9e\u5b66\u8005\u3082\u8ab0\u304c\u4eba\u72fc\u304b\u308f\u304b\u3089\u306a\u3044\u3002\u72fc\u306e\u8a00\u8a9e\u304c\u308f\u304b\u308a\u72fc\u306b\u8972\u6483\u3055\u308c\u308b\u3068, \u547d\u3092\u52a9\u3051\u308b\u4ee3\u308f\u308a\u306b\u72fc\u306b\u3055\u308c\u308b\u3002\u5909\u8eab\u5f8c\u306f\u72fc\u3068\u540c\u69d8\u3002\u9a0e\u58eb\u306b\u5b88\u3089\u308c\u305f\u5834\u5408\u306b\u306f\u5909\u8eab\u3057\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}($),he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="wolfman",a.role_jp="\u72fc\u7537",a.night_action="kill",a.random_level=1,a.action_sentence="\u72fc\u306b\u5909\u8eab\u3057\u307e\u3057\u305f\u3002 \u4eca\u6669\u8972\u3046\u4eba\u3092\u6c7a\u3081\u3066\u304f\u3060\u3055\u3044\uff61",a.description="\u6751\u4eba\u5074\u3002\u3057\u304b\u3057\u591c\u306b\u306f\u72fc\u306b\u5909\u8eab\u3057\u3066\u3057\u307e\u3046\u3002\u4eba\u72fc\u3084\u72fc\u4fe1\u8005\u306b\u6b63\u4f53\u306f\u30d0\u30ec\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}($),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="tolkative",a.role_jp="\u304a\u3057\u3083\u3079\u308a",a.description="\u6751\u4eba\u5074\u3002\u6b7b\u3093\u3067\u3082\u8ffd\u653e\u4f1a\u8b70\u306b\u53c2\u52a0\u3067\u304d\u308b\u3002",a}return Object(m.a)(t,e),t}($),me=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="samurai",a.role_jp="\u4f8d",a.night_action="samurai_kill",a.you_can_kill=1,a.can_skip_action=!0,a.action_sentence="\u65ac\u308a\u6bba\u3059\u4eba\u3092\u4e00\u4eba\u9078\u3079\u307e\u3059\u3002",a.random_level=1,a.description="\u6751\u4eba\u5074\u3002\u30b2\u30fc\u30e0\u4e2d\u306b\u4e00\u56de\u306e\u307f\u9078\u3093\u3060\u4eba\u3092\u65ac\u308a\u6bba\u3059\u3002\u9a0e\u58eb\u306b\u5b88\u3089\u308c\u305f\u4eba\u3084\u5fcd\u8005\u3067\u3082\u5bb9\u8d66\u3057\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}($),_e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="bad_samurai",a.role_jp="\u4eba\u65ac\u308a\u4f8d",a.action_sentence="\u65ac\u308a\u6bba\u3059\u4eba\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",a.you_can_kill=1e4,a.can_skip_action=!1,a.random_level=2,a.description="\u6751\u4eba\u5074\u3002\u6700\u51f6\u306e\u4f8d\u3002\u6bce\u30bf\u30fc\u30f3\u5fc5\u305a\u4e00\u4eba\u3092\u9078\u3093\u3067\u65ac\u6bba\u3059\u308b\u3002\u9a0e\u58eb\u306b\u5b88\u3089\u308c\u305f\u4eba\u3084\u5fcd\u8005\u3067\u3082\u5bb9\u8d66\u3057\u306a\u3044\u3002",a}return Object(m.a)(t,e),t}(me),pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).role="young_seer",a.role_jp="\u534a\u4eba\u524d\u5360\u3044\u5e2b",a.role_jp_disguise="\u5360\u3044\u5e2b",a.night_action="young_see",a.description="\u6751\u4eba\u5074\u3002 \u5360\u3044\u7d50\u679c\u304c\u30c7\u30bf\u30e9\u30e1\u306a\u672a\u719f\u306a\u5360\u3044\u5e2b\u3002\u81ea\u5206\u306e\u5f79\u8077\u306b\u306f\u5360\u3044\u5e2b\u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u3002",a}return Object(m.a)(t,e),t}(H),be=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleDeleteOptions=a.handleDeleteOptions.bind(Object(d.a)(a)),a.handlePick=a.handlePick.bind(Object(d.a)(a)),a.handleAddOption=a.handleAddOption.bind(Object(d.a)(a)),a.handleBGM=a.handleBGM.bind(Object(d.a)(a)),a.handleDeleteOption=a.handleDeleteOption.bind(Object(d.a)(a)),a.updateNumberOfRoles=a.updateNumberOfRoles.bind(Object(d.a)(a)),a.determineRoles=a.determineRoles.bind(Object(d.a)(a)),a.nightActionRecord=a.nightActionRecord.bind(Object(d.a)(a)),a.handle_random_level=a.handle_random_level.bind(Object(d.a)(a)),a.handleKilledAtNight=a.handleKilledAtNight.bind(Object(d.a)(a)),a.handleSamuraiKilledAtNight=a.handleSamuraiKilledAtNight.bind(Object(d.a)(a)),a.handlePizzaOrder=a.handlePizzaOrder.bind(Object(d.a)(a)),a.handleWinningSide=a.handleWinningSide.bind(Object(d.a)(a)),a.mostSuspiciousPlayer=a.mostSuspiciousPlayer.bind(Object(d.a)(a)),a.morningPhase=a.morningPhase.bind(Object(d.a)(a)),a.nightPhase=a.nightPhase.bind(Object(d.a)(a)),a.nightConfirmPhase=a.nightConfirmPhase.bind(Object(d.a)(a)),a.choiceConfirmPhase=a.choiceConfirmPhase.bind(Object(d.a)(a)),a.gameResultPhase=a.gameResultPhase.bind(Object(d.a)(a)),a.isBakerAlive=a.isBakerAlive.bind(Object(d.a)(a)),a.choiceConfirmAtExilePhase=a.choiceConfirmAtExilePhase.bind(Object(d.a)(a)),a.nextPlayer=a.nextPlayer.bind(Object(d.a)(a)),a.nextTurn=a.nextTurn.bind(Object(d.a)(a)),a.exile=a.exile.bind(Object(d.a)(a)),a.exile2=a.exile2.bind(Object(d.a)(a)),a.removeProtection=a.removeProtection.bind(Object(d.a)(a)),a.resetSuspectedPlayers=a.resetSuspectedPlayers.bind(Object(d.a)(a)),a.resetToBeKilledPlayer=a.resetToBeKilledPlayer.bind(Object(d.a)(a)),a.resetToBeSamuraiKilledPlayer=a.resetToBeSamuraiKilledPlayer.bind(Object(d.a)(a)),a.restart=a.restart.bind(Object(d.a)(a)),a.setTimerSeconds=a.setTimerSeconds.bind(Object(d.a)(a)),a.toggleRandomSwitchRoles=a.toggleRandomSwitchRoles.bind(Object(d.a)(a)),a.prop={ROLES:{villager:$,werewolf:q,seer:H,knight:Q,traitor:X,werewolf_believer:Z,baker:ee,psychic:te,haunted:ae,werewolf_god:ne,sage:ie,ninjya:re,weak_werewolf:le,lone_werewolf:se,pizzeria:oe,impatient_pizzeria:ce,werewolf_linguist:ue,wolfman:he,tolkative:de,samurai:me,bad_samurai:_e,young_seer:pe}};var n={};return Object.keys(a.prop.ROLES).map(function(e){return n[e]=0}),a.state={bgm:!0,players:[],players_with_roles:[],role_determined:!1,phase:"night_confirm",n_each_role:n,suspected_players:[],current_player_id:0,night_action_to_be_killed:[],night_action_to_be_samurai_killed:[],to_be_exiled:[],outcome_of_seer:[],pizza_order:[],pizza_delivery:[],random_level:0,to_be_confirmed:[],hide_options:!1,random_switch_roles:!1,turn:1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){try{var e=localStorage.getItem("players"),t=JSON.parse(e);t&&this.setState(function(){return{players:t}})}catch(a){}}},{key:"componentDidUpdate",value:function(e,t){if(t.players.length!==this.state.players.length){var a=JSON.stringify(this.state.players);localStorage.setItem("players",a)}}},{key:"componentWillUnmount",value:function(){console.log("componentWillUnmount")}},{key:"handleDeleteOptions",value:function(){this.setState(function(){return{players:[]}})}},{key:"handleDeleteOption",value:function(e){this.setState(function(t){return{players:t.players.filter(function(t){return e!==t})}})}},{key:"handlePick",value:function(){var e=Math.floor(Math.random()*this.state.players.length),t=this.state.players[e];alert(t)}},{key:"handleAddOption",value:function(e){return e?this.state.players.indexOf(e)>-1?"\u3053\u306e\u540d\u524d\u306f\u3059\u3067\u306b\u4f7f\u308f\u308c\u3066\u3044\u307e\u3059\uff61":void this.setState(function(t){return{players:t.players.concat(e)}}):"\u540d\u524d\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}},{key:"handleBGM",value:function(){this.setState(function(e){return{bgm:!e.bgm}})}},{key:"updateNumberOfRoles",value:function(e,t){this.setState(function(a){return a.n_each_role[t]=e+e*e*a.n_each_role[t]})}},{key:"determineRoles",value:function(){var e=this;if(this.numberOfPlayers()===this.numberOfSelectedRoles()){this.setState(function(){return{role_determined:!0}});var t,a=this.state.random_level,n=[],i=this.state.n_each_role;for(t in i)for(;i[t]>0;){var r=t;this.state.random_switch_roles&&(r=this.randomlySwitchRoles(t,a)),n.push(r),i[t]--}for(var l=n.length-1;l>0;l--){var s=Math.floor(Math.random()*(l+1)),o=[n[s],n[l]];n[l]=o[0],n[s]=o[1]}for(var c=n.length-1;c>0;c--){var u=Math.floor(Math.random()*(c+1)),h=[n[u],n[c]];n[c]=h[0],n[u]=h[1]}for(var d=function(t){var a=new e.prop.ROLES[n[t]](e.state.players[t]);e.setState(function(e){return{players_with_roles:e.players_with_roles.concat(a)}})},m=0;m<n.length;m++)d(m)}else console.log("n_roles != n_players"),console.log(this.numberOfPlayers()),console.log(this.numberOfSelectedRoles())}},{key:"randomlySwitchRoles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=Object.keys(this.prop.ROLES),n=new this.prop.ROLES[e]("anonymous").side,i=a[Math.floor(Math.random()*a.length)],r=new this.prop.ROLES[i]("anonymous");return 2===t?r.side===n?i:e:0===t?r.side===n&&0===r.random_level?i:e:r.side===n&&r.random_level<=1?i:e}},{key:"toggleRandomSwitchRoles",value:function(){this.setState(function(e){return{random_switch_roles:!e.random_switch_roles}})}},{key:"handle_random_level",value:function(e){this.setState({random_level:e})}},{key:"nightActionRecord",value:function(e,t,a,n){var i=this;if("fast_deliver_pizza"===t.night_action)this.setState(function(e){return{pizza_order:[].concat(Object(s.a)(i.state.pizza_order),[[t,a]])}});else if(1===this.state.turn||["suspect","perceive"].includes(t.night_action))this.setState(function(e){return{suspected_players:e.suspected_players.concat(a.name)}});else if("kill"===t.night_action)this.setState(function(e){return{night_action_to_be_killed:[a]}});else if("weak_kill"===t.night_action){Math.random()>.5&&this.setState(function(e){return{night_action_to_be_killed:[a]}})}else"samurai_kill"===t.night_action?(this.setState(function(e){return{night_action_to_be_samurai_killed:[].concat(Object(s.a)(i.state.night_action_to_be_samurai_killed),[a])}}),t.you_can_kill-=1,0===t.you_can_kill&&(t.night_action="suspect",t.action_sentence="\u3082\u3063\u3068\u3082\u7591\u308f\u3057\u3044\u4eba\u3092\u4e00\u4eba\u9078\u3093\u3067\u304f\u3060\u3055\u3044\uff61 (\u5200\u304c\u9306\u3073\u3066\u3044\u308b\u3002\u3002\u3002)")):["see","see_role","young_see"].includes(t.night_action)?this.setState({outcome_of_seer:[a]}):"protect"===t.night_action?a.protected=!0:"deliver_pizza"===t.night_action?this.setState(function(e){return{pizza_order:[].concat(Object(s.a)(i.state.pizza_order),[[t,a]])}}):"hide"===t.night_action||(console.log("unknown night action"),console.log(e,t,a,n));this.setState({hide_options:!0})}},{key:"nextPlayer",value:function(e,t,a){this.setState({outcome_of_seer:[]}),++e<a?(this.setState(function(){return{current_player_id:e}}),this.setState(function(){return{phase:"night_confirm"}})):e===a?(this.setState(function(){return{current_player_id:0}}),this.setState(function(){return{phase:"night_action_completed"}})):(console.log("something wrong with nextPlayer"),console.log("next player"),console.log(e),console.log(a)),this.setState({hide_options:!1})}},{key:"handleKilledAtNight",value:function(e){if(0===this.state.night_action_to_be_killed.length)return-1;var t=this.state.night_action_to_be_killed[0];return 1===e||t.protected?-1:"werewolf_linguist"===t.role?(t.role="werewolf",t.role="werewolf",t.role_jp="\u4eba\u72fc",t.side=1,t.winning_side=1,t.saw=1,t.perceived="\u4eba\u72fc",t.killable=!1,t.action_sentence="\u4eca\u6669\u8972\u3046\u4eba\u3092\u6c7a\u3081\u3066\u304f\u3060\u3055\u3044\uff61",t.night_action="kill",t.description="\u591c\u306b\u6bba\u5bb3\u3059\u308b\u4eba\u3092\u4e00\u4eba\u9078\u3076\u3002 \u6700\u5f8c\u306e\u4eba\u72fc\u306b\u6700\u7d42\u6c7a\u5b9a\u6a29\u304c\u3042\u308b\u3002\u4eba\u72fc\u540c\u58eb\u306f\u8ab0\u304c\u4eba\u72fc\u304b\u308f\u304b\u3063\u3066\u3044\u308b\u3002 \u4eba\u72fc\u540c\u58eb\u306f\u6bba\u3057\u5408\u3048\u306a\u3044\u3002",-1):(1!==e&&(t.alive=!1),t.name)}},{key:"handleSamuraiKilledAtNight",value:function(e){var t=this.state.night_action_to_be_samurai_killed;if(1===e||0===t.length)return-1;var a=!0,n=!1,i=void 0;try{for(var r,l=t[Symbol.iterator]();!(a=(r=l.next()).done);a=!0)r.value.alive=!1}catch(s){n=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return t.map(function(e){return e.name})}},{key:"mostSuspiciousPlayer",value:function(e,t){var a,n={},i=!0,r=!1,l=void 0;try{for(var s,o=this.state.suspected_players[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)(a=s.value)!==e&&(-1!==t&&t.includes(a)||(n[a]?n[a]++:n[a]=1))}catch(g){r=!0,l=g}finally{try{i||null==o.return||o.return()}finally{if(r)throw l}}for(var c,u=0,h=0,d=Object.values(n);h<d.length;h++)(c=d[h])>u&&(u=c);for(var m=[],_=0,p=Object.keys(n);_<p.length;_++){var b=p[_];n[b]===u&&m.push(b)}return m}},{key:"exile",value:function(e){void 0!==e?(e.alive=!1,this.exile2(e.name,e.perceived)):this.setState({to_be_exiled:[]}),this.morningActionCompletedPhase(),this.resetSuspectedPlayers(),this.resetToBeKilledPlayer(),this.resetToBeSamuraiKilledPlayer()}},{key:"exile2",value:function(e,t){this.setState(function(a){return{to_be_exiled:[e,t]}})}},{key:"morningActionCompletedPhase",value:function(){this.setState(function(e){return{phase:e.phase="morning_action_completed"}})}},{key:"removeProtection",value:function(){this.state.players_with_roles.filter(function(e){return"ninjya"!==e.role}).forEach(function(e){e.protected=!1})}},{key:"handlePizzaOrder",value:function(){this.setState(function(e){return{pizza_delivery:e.pizza_order}}),this.setState({pizza_order:[]})}},{key:"setTimerSeconds",value:function(){var e=this.numberOfAliveVillagers()+this.numberOfAliveWerewolves;return e<4?180:4===e?240:5===e?300:360}},{key:"resetSuspectedPlayers",value:function(){this.setState(function(){return{suspected_players:[]}})}},{key:"resetToBeKilledPlayer",value:function(){this.setState(function(){return{night_action_to_be_killed:[]}})}},{key:"resetToBeSamuraiKilledPlayer",value:function(){this.setState(function(){return{night_action_to_be_samurai_killed:[]}})}},{key:"restart",value:function(){console.log("restart"),this.setState(function(){return{players_with_roles:[]}}),this.setState(function(){return{role_determined:!1}}),this.setState(function(){return{phase:"night_confirm"}}),this.setState(function(){return{suspected_players:[]}}),this.setState(function(){return{current_player_id:0}}),this.setState(function(){return{night_action_to_be_killed:[]}}),this.setState(function(){return{night_action_to_be_samurai_killed:[]}}),this.setState(function(){return{to_be_exiled:[]}}),this.setState(function(){return{to_be_confirmed:[]}}),this.setState(function(){return{outcome_of_seer:[]}}),this.setState(function(){return{pizza_order:[]}}),this.setState(function(){return{pizza_delivery:[]}}),this.setState(function(){return{random_switch_roles:!1}}),this.setState(function(){return{turn:1}})}},{key:"isBakerAlive",value:function(){var e,t=!1,a=!0,n=!1,i=void 0;try{for(var r,l=this.state.players_with_roles[Symbol.iterator]();!(a=(r=l.next()).done);a=!0)"baker"===(e=r.value).role&&e.alive&&(t=!0)}catch(s){n=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return t}},{key:"numberOfPlayers",value:function(){return this.state.players.length}},{key:"numberOfSelectedRoles",value:function(){return Object.values(this.state.n_each_role).reduce(function(e,t){return e+t},0)}},{key:"numberOfAliveVillagers",value:function(){var e,t=0,a=!0,n=!1,i=void 0;try{for(var r,l=this.state.players_with_roles[Symbol.iterator]();!(a=(r=l.next()).done);a=!0)0===(e=r.value).side&&e.alive&&t++}catch(s){n=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return t}},{key:"numberOfAliveWerewolves",value:function(){var e,t=0,a=!0,n=!1,i=void 0;try{for(var r,l=this.state.players_with_roles[Symbol.iterator]();!(a=(r=l.next()).done);a=!0)1===(e=r.value).side&&e.alive&&t++}catch(s){n=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(n)throw i}}return t}},{key:"handleWinningSide",value:function(){return this.numberOfAliveVillagers()<=this.numberOfAliveWerewolves()?1:0===this.numberOfAliveWerewolves()?0:-1}},{key:"morningPhase",value:function(){this.setState(function(){return{phase:"morning"}}),this.nextTurn()}},{key:"nightPhase",value:function(){this.setState(function(){return{phase:"night"}})}},{key:"nightConfirmPhase",value:function(){this.setState(function(){return{phase:"night_confirm"}})}},{key:"choiceConfirmPhase",value:function(e){this.setState({to_be_confirmed:[e]}),this.setState(function(){return{phase:"choice_confirm"}})}},{key:"choiceConfirmAtExilePhase",value:function(e){this.setState({to_be_confirmed:e}),this.setState(function(){return{phase:"choice_confirm_at_exile"}})}},{key:"gameResultPhase",value:function(){this.setState({phase:"game_result"})}},{key:"nextTurn",value:function(){this.setState(function(e){return{turn:e.turn+1}})}},{key:"render",value:function(){var e=i.a.createElement("div",null,i.a.createElement(S,{subtitle:"\u6751\u4eba vs \u4eba\u72fc",bgm:this.state.bgm}),i.a.createElement("div",{className:"container"},i.a.createElement("div",{className:"widget"},i.a.createElement(x,{players:this.state.players,handleDeleteOptions:this.handleDeleteOptions,handleDeleteOption:this.handleDeleteOption}),i.a.createElement(_,{handleAddOption:this.handleAddOption})),i.a.createElement(L,{roleClasses:Object.values(this.prop.ROLES)}),i.a.createElement(W,{updateNumberOfRoles:this.updateNumberOfRoles,roleClasses:Object.values(this.prop.ROLES)}),i.a.createElement(f,{players:this.state.players,n_each_role:this.state.n_each_role,determineRoles:this.determineRoles}),i.a.createElement(g,{handleBGM:this.handleBGM}),i.a.createElement(A,{toggleRandomSwitchRoles:this.toggleRandomSwitchRoles,random_level:this.random_level,handle_random_level:this.handle_random_level,roleClasses:Object.values(this.prop.ROLES)}))),t=i.a.createElement("div",null,i.a.createElement(v,{current_player_id:this.state.current_player_id,players_with_roles:this.state.players_with_roles,nightPhase:this.nightPhase})),a=i.a.createElement("div",null,i.a.createElement(y,{to_be_confirmed:this.state.to_be_confirmed,nightPhase:this.nightPhase,nightActionRecord:this.nightActionRecord,hide_options:this.state.hide_options}),i.a.createElement(R,{current_player_id:this.state.current_player_id,players_with_roles:this.state.players_with_roles,outcome_of_seer:this.state.outcome_of_seer,nextPlayer:this.nextPlayer,turn:this.state.turn,hide_options:this.state.hide_options})),n=i.a.createElement("div",null,i.a.createElement(O,{players_with_roles:this.state.players_with_roles,to_be_confirmed:this.state.to_be_confirmed,morningPhase:this.morningPhase,exile:this.exile})),r=i.a.createElement("div",null,i.a.createElement(F,{bgm:this.state.bgm,current_player_id:this.state.current_player_id,players_with_roles:this.state.players_with_roles,turn:this.state.turn,nextPlayer:this.nextPlayer,outcome_of_seer:this.state.outcome_of_seer,choiceConfirmPhase:this.choiceConfirmPhase,to_be_exiled:this.state.to_be_exiled,night_action_to_be_killed:this.state.night_action_to_be_killed,pizza_order:this.state.pizza_order,pizza_delivery:this.state.pizza_delivery,roleClasses:Object.values(this.prop.ROLES)})),l=i.a.createElement("div",null,i.a.createElement(B,{bgm:this.state.bgm,suspected_players:this.suspected_players,night_action_to_be_killed:this.night_action_to_be_killed,night_action_to_be_samurai_killed:this.night_action_to_be_samurai_killed,handleKilledAtNight:this.handleKilledAtNight,handleSamuraiKilledAtNight:this.handleSamuraiKilledAtNight,handleWinningSide:this.handleWinningSide,mostSuspiciousPlayer:this.mostSuspiciousPlayer,morningPhase:this.morningPhase,removeProtection:this.removeProtection,players_with_roles:this.state.players_with_roles,turn:this.state.turn,gameResultPhase:this.gameResultPhase,isBakerAlive:this.isBakerAlive,handlePizzaOrder:this.handlePizzaOrder})),s=i.a.createElement("div",null,i.a.createElement(J,{setTimerSeconds:this.setTimerSeconds,bgm:this.state.bgm}),i.a.createElement(P,{players_with_roles:this.state.players_with_roles,exile:this.exile,choiceConfirmAtExilePhase:this.choiceConfirmAtExilePhase})),o=i.a.createElement("div",null,i.a.createElement(M,{bgm:this.state.bgm,handleWinningSide:this.handleWinningSide,to_be_exiled:this.state.to_be_exiled,nightConfirmPhase:this.nightConfirmPhase,players_with_roles:this.state.players_with_roles,gameResultPhase:this.gameResultPhase,handlePizzaOrder:this.handlePizzaOrder})),c=i.a.createElement("div",null,i.a.createElement(j,{bgm:this.state.bgm,handleWinningSide:this.handleWinningSide,players_with_roles:this.state.players_with_roles,restart:this.restart}));return this.state.role_determined?"night_confirm"===this.state.phase?t:"night"===this.state.phase?r:"choice_confirm"===this.state.phase?a:"night_action_completed"===this.state.phase?l:"morning"===this.state.phase?s:"choice_confirm_at_exile"===this.state.phase?n:"morning_action_completed"===this.state.phase?o:"game_result"===this.state.phase?c:i.a.createElement("div",null,"else"):e}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(i.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.fc562bc9.chunk.js.map